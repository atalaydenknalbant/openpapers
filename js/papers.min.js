/*!
!function(){const e="papers";let t;function n(n){return(t||(t=new Promise((t,n)=>{const r=indexedDB.open("openpapers-db",1);r.onupgradeneeded=t=>{const n=t.target.result.createObjectStore(e,{keyPath:"id",autoIncrement:!0});n.add({id:1,title:"The Treaty of Versailles",summary:"The Treaty of Versailles was the peace settlement signed after World War One had ended in 1918. It was the product of the German Armistice.",image:"img/treaty%20of%20versailles.png",pdf:"treaty.pdf",date:"28 June 1919",signers:"Germany and Allies",location:"Hall of Mirrors in the Palace of Versailles, Paris, France"}),n.add({id:2,title:"The Paris Agreement",summary:"The Paris Agreement is an agreement within the United Nations, dealing with greenhouse-gas-emissions mitigation, adaptation, and finance.",image:"img/paris-agreement.png",pdf:"english_paris_agreement.pdf",date:"22 April 2016",signers:"All Countries except United States,Nicaragua,Syria",location:"New York City, United States"})},r.onsuccess=()=>t(r.result),r.onerror=()=>n(r.error)}),t)).then(t=>t.transaction(e,n).objectStore(e))}window.addPaper=function(e){return n("readwrite").then(t=>new Promise((n,r)=>{const a=t.add(e);a.onsuccess=()=>n(a.result),a.onerror=()=>r(a.error)}))},window.renderPapersList=function(){const e=document.getElementById("dynamic-papers");e&&n("readonly").then(e=>new Promise((t,n)=>{const r=e.getAll();r.onsuccess=()=>t(r.result),r.onerror=()=>n(r.error)})).then(t=>{t.filter(e=>e.id>2).forEach(t=>{const n=document.createElement("div");n.className="col-lg-6",n.innerHTML=`\n          <a class="paper-item" href="paper.html?id=${t.id}">\n            <span class="caption">\n              <span class="caption-content">\n                <h1>${t.title}</h1>\n                <p class="mb-0">${t.summary}</p>\n              </span>\n            </span>\n            <img class="img-fluid" src="${t.image}" alt="">\n          </a>`,e.appendChild(n)})})},window.renderDynamicPaper=function(){const e=new URLSearchParams(window.location.search).get("id");e&&function(e){return n("readonly").then(t=>new Promise((n,r)=>{const a=t.get(Number(e));a.onsuccess=()=>n(a.result),a.onerror=()=>r(a.error)}))}(e).then(e=>{if(!e)return;document.getElementById("paper-title").textContent=e.title,document.getElementById("paper-summary").innerHTML=`<p>${e.summary}</p>`;const t=document.getElementById("paper-location");t&&(t.textContent=e.location||"");const n=document.getElementById("paper-date");n&&(n.textContent=e.date||"");const r=document.getElementById("paper-signers");r&&(r.textContent=e.signers||"");const a=document.getElementById("paper-image");a&&(a.src=e.image);const s=document.getElementById("paper-download");s&&(s.href=e.pdf)})}}();
